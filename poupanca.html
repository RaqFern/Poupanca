<!DOCTYPE html>
<html>

    <body>
        <meta charset="UTF-8">
        <p id="titulo">
            Minha poupança

        </p>

        <p id="saldo" style="background-color: #aaffff">
        SALDO:
        </p>

        <p id="acoes">
            <input id="valor"><br>
            <input type="button" value="Depósito" onclick="poupanca.depositar();">
            <input type="button" value="Saque" onclick="poupanca.sacar();"><br>
            <input type="button" value="Extrato" onclick="poupanca.exibirExtrato();">     
    </p>
        
    <p id="extrato" style="background-color: #aaffff;">
        Extrato:
    </p>


    </body>

<script>
    // propriedades

    var saidaSaldo = document.getElementById("saldo");
    var saidaExtrato = document.getElementById("extrato");
    var valorHTML = document.getElementById("valor");
    
    function dataCurta() {
        var data = new Date();
        var d = data.getDate();
        var m = data.getMonth()+1; 
        var a = data.getFullYear();
        
        if (id.toString.length==1) {
            d = "0" + d;
        }

        if(m.toString.lenght==1) {
            m = "0" + m;
        }

        return d + "/" + m + "/" + a;

    }

    var poupanca = {
        saldo: 0,
        movimentacao: [],
    
        // métodos: //
    
        depositar: function() {
            
            var valor = Number(valorHTML.value)
            this.saldo += valor;
            saidaSaldo.innerHTML = this.saldo;
            this.movimentacao.push(dataCurta() + " - Depósito de R$ " + valorHTML.value);
            valorHTML.value = "";
        },
           
        sacar: function() {

            // PERMITE QUE O SALDO SEJA NEGATIVO this.saldo -= Number (valorHTML.value);//
            //saidaSaldo.innerHTML = this.saldo;//    

            var valor = Number(valorHTML.value);
           
            if (valor>this.saldo) {
                alert("Saldo insuficiente");
            
            } else {
                this.saldo -= valor;
                this.movimentacao.push(dataCurta() + " - Saque de R$ " + valor);
            }
            saidaSaldo.innerHTML = this.saldo;
            valorHTML.value  = "";
        },
        
        exibirExtrato: function() {

            saidaExtrato.innerHTML = "Extrato: <br>";
            for(i=0; i<=this.movimentacao.length-1; i++) {
                saidaExtrato.innerHTML += this.movimentacao[i] + "<br>";
            }
        }
    
    }

</script>    

</html>